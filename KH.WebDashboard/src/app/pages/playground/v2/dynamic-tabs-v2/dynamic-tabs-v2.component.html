<div class="container tab-container">
  <div class="controls">
    <label class="fit-width-control">
      <input
        type="checkbox"
        [(ngModel)]="fitToWidth"
        (change)="toggleFitToWidth($event.target.checked)">
      Fit to width
    </label>
  </div>

  <nav class="d-flex position-relative align-items-center navigation-container" role="navigation">
    <!-- Scroll Left -->
    <!-- [class.visible]="canScrollLeft" -->

    <button 
    [class.visible]="true"
      class="btn btn-outline-secondary scroll-button left"
      (click)="scrollLeft()"
      aria-label="Scroll tabs left">
      <i class="bi bi-chevron-left"></i>
    </button>

    <div 
      #tabContainer 
      class="d-flex navigation-wrapper overflow-auto"
      [class.fit-width]="fitToWidth"
      (scroll)="onScroll()">
      
      <button 
        *ngFor="let tab of tabs"
        class="btn btn-light tab-button"
        [class.tab-button-active]="tab.isActive"
        [style.flex]="fitToWidth ? '1' : 'none'"
        tabindex="0" 
        role="tab" 
        [attr.aria-selected]="tab.isActive"
        (click)="selectTab(tab.id)">
        
        <nb-icon [icon]="tab.icon" class="me-2"></nb-icon>
        {{ tab.label }}

        <span *ngIf="tab.count && tab.count > 0" class="tab-notification">
          {{ tab.count }}
        </span>
      </button>
    </div>

    <!-- Scroll Right -->
    <button 
      class="btn btn-outline-secondary scroll-button right"
      [class.visible]="true"
      (click)="scrollRight()"
      aria-label="Scroll tabs right">
      <i class="bi bi-chevron-right"></i>
    </button>
  </nav>

  <app-dy-tab-v2 [content]="activeTabContent"></app-dy-tab-v2>
</div>
