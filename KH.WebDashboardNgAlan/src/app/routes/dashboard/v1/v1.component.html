<div class="alain-default__content-title">
  <h1>
    {{ 'app.v1.dashboard' | i18n }}
    <small>{{ 'app.v1.welcome' | i18n }}</small>
  </h1>
</div>
<quick-menu>
  <nz-list [nzBordered]="false" [nzSplit]="false">
    <nz-list-item>
      <a routerLink="/">{{ 'app.v1.home' | i18n }}</a>
    </nz-list-item>
    <nz-list-item>
      <a routerLink="/widgets">{{ 'app.v1.widgets' | i18n }}</a>
    </nz-list-item>
    <nz-list-item>
      <a routerLink="/style/typography">{{ 'app.v1.typography' | i18n }}</a>
    </nz-list-item>
    <nz-list-item>
      <a routerLink="/style/gridmasonry">{{ 'app.v1.gridmasonry' | i18n }}</a>
    </nz-list-item>
    <nz-list-item>
      <a routerLink="/pro/result/success">{{ 'app.v1.success_result' | i18n }}</a>
    </nz-list-item>
  </nz-list>
</quick-menu>
<div nz-row nzGutter="16">
  <div nz-col nzXs="24" nzSm="12" nzMd="6" class="mb-md">
    <div nz-row nzType="flex" nzAlign="middle" class="bg-primary rounded-md">
      <div nz-col nzSpan="12" class="p-md text-white">
        <div class="h2 mt0">123,456</div>
        <p class="text-nowrap mb0">{{ 'app.v1.website_traffics' | i18n }}</p>
      </div>
      <div nz-col nzSpan="12">
        @if (webSite) {
        <g2-mini-bar height="35" color="#fff" borderWidth="3" [padding]="[5, 30]" [data]="webSite" tooltipType="mini"
          (ready)="fixDark($event)" />
        }
      </div>
    </div>
  </div>
  <div nz-col nzXs="24" nzSm="12" nzMd="6" class="mb-md">
    <div nz-row nzType="flex" nzAlign="middle" class="bg-success rounded-md">
      <div nz-col nzSpan="12" class="p-md text-white">
        <div class="h2 mt0">234,567K</div>
        <p class="text-nowrap mb0">{{ 'app.v1.website_impressions' | i18n }}</p>
      </div>
      <div nz-col nzSpan="12">
        @if (webSite) {
        <g2-mini-bar height="35" color="#fff" borderWidth="3" [padding]="[5, 30]" [data]="webSite" tooltipType="mini"
          (ready)="fixDark($event)" />
        }
      </div>
    </div>
  </div>
  <div nz-col nzXs="24" nzSm="12" nzMd="6" class="mb-md">
    <div nz-row nzType="flex" nzAlign="middle" class="bg-orange rounded-md">
      <div nz-col nzSpan="12" class="p-md text-white">
        <div class="h2 mt0">$458,778</div>
        <p class="text-nowrap mb0">{{ 'app.v1.total_sales' | i18n }}</p>
      </div>
      <div nz-col nzSpan="12">
        @if (webSite) {
        <g2-mini-bar height="35" color="#fff" borderWidth="3" [padding]="[5, 30]" [data]="webSite" tooltipType="mini"
          (ready)="fixDark($event)" />
        }
      </div>
    </div>
  </div>
  <div nz-col nzXs="24" nzSm="12" nzMd="6" class="mb-md">
    <div nz-row nzType="flex" nzAlign="middle" class="bg-magenta rounded-md">
      <div nz-col nzSpan="12" class="p-md text-white">
        <div class="h2 mt0">456</div>
        <p class="text-nowrap mb0">{{ 'app.v1.support_tickets' | i18n }}</p>
      </div>
      <div nz-col nzSpan="12">
        @if (webSite) {
        <g2-mini-bar height="35" color="#fff" borderWidth="3" [padding]="[5, 30]" [data]="webSite" tooltipType="mini"
          (ready)="fixDark($event)" />
        }
      </div>
    </div>
  </div>
</div>
<div nz-row nzGutter="16">
  <div nz-col nzXs="24" nzMd="12">
    <nz-card [nzBordered]="false" [nzTitle]="salesTitle">
      <ng-template #salesTitle>
        {{ 'app.v1.sales_statistics' | i18n }}
        <small class="text-sm font-weight-normal">{{ 'app.v1.business_expectations' | i18n }}</small>
      </ng-template>
      @if (salesData) {
      <g2-bar height="275" [data]="salesData" />
      }
    </nz-card>
  </div>
  <div nz-col nzXs="24" nzMd="12">
    <nz-card [nzTitle]="growthTitle" [nzBordered]="false">
      <ng-template #growthTitle>
        {{ 'app.v1.growth_rate' | i18n }}
        <small class="text-sm font-weight-normal">{{ 'app.v1.business_expectations' | i18n }}</small>
      </ng-template>
      @if (offlineChartData) {
      <g2-timeline [data]="offlineChartData" [height]="289" [titleMap]="{ y1: '客流量', y2: '支付笔数' }" />
      }
    </nz-card>
  </div>
</div>
<div nz-row nzGutter="16">
  <div nz-col nzXs="24" nzMd="12">
    <nz-card [nzBordered]="false" [nzCover]="coverTpl">
      <ng-template #coverTpl>
        <img class="img" src="//os.alipayobjects.com/rmsportal/GhjqstwSgxBXrZS.png" />
      </ng-template>
      <h3>{{ 'app.v1.ant_design' | i18n }}</h3>
      <p class="text-grey">{{ 'app.v1.ui_design_language' | i18n }}</p>
      <ol class="list-styled text-lg pt-md">
        <li>{{ 'app.v1.designed_by_team' | i18n }}</li>
        <li>{{ 'app.v1.provide_solutions' | i18n }}</li>
        <li>{{ 'app.v1.flexible_components' | i18n }}</li>
      </ol>
      <p class="pt-md mb0">
        <a class="text-grey" href="//ng.ant.design" target="_blank">{{ 'app.v1.view_site' | i18n }}</a>
      </p>
    </nz-card>
  </div>
  <div nz-col nzXs="24" nzMd="12">
    <nz-card [nzTitle]="recentTitle" [nzBordered]="false" class="ant-card__body-nopadding">
      <ng-template #recentTitle>
        {{ 'app.v1.recent_posts' | i18n }}
        <small class="text-sm font-weight-normal">{{ 'app.v1.recent_posts_sub' | i18n }}</small>
      </ng-template>
      @for (item of todoData; track $index) {
      <div nz-row [nzJustify]="'center'" [nzAlign]="'middle'" class="py-sm pr-md bg-grey-lighter-h point">
        <div nz-col [nzSpan]="4" class="text-center">
          <nz-avatar [nzSrc]="'./assets/tmp/img/' + item.avatar + '.png'" />
        </div>
        <div nz-col [nzSpan]="20">
          <strong>{{ item.name }}</strong>
          <p class="mb0">{{ item.content }}</p>
        </div>
      </div>
      }
    </nz-card>
  </div>
  <div nz-col nzXs="24" nzMd="12">
    <nz-card nzTitle="{{ 'app.v1.todo_lists' | i18n }}" [nzBordered]="false" class="ant-card__body-nopadding">
      @for (item of todoData; track $index) {
      <div nz-row [nzJustify]="'center'" [nzAlign]="'middle'" class="py-sm pr-md bg-grey-lighter-h point">
        <div nz-col [nzSpan]="4" class="text-center">
          <nz-avatar [nzSrc]="'./assets/tmp/img/' + item.avatar + '.png'" />
        </div>
        <div nz-col [nzSpan]="18">
          <strong>{{ item.name }}</strong>
          <p [class.text-deleted]="item.completed" class="mb0">{{ item.content }}</p>
        </div>
        <div nz-col [nzSpan]="2" class="text-right pr-md">
          <i nz-dropdown [nzDropdownMenu]="todoMenus" nzPlacement="topRight" nz-icon nzType="ellipsis"
            class="rotate-90"></i>
          <nz-dropdown-menu #todoMenus="nzDropdownMenu">
            <ul nz-menu>
              @if (item.completed) {
              <li nz-menu-item (click)="item.completed = false">{{ 'app.v1.active' | i18n }}</li>
              } @else {
              <li nz-menu-item (click)="item.completed = true">{{ 'app.v1.completed' | i18n }}</li>
              }
              <li nz-menu-item (click)="todoData.splice(todoData.indexOf(item), 1)">{{ 'app.v1.deleted' | i18n }}</li>
            </ul>
          </nz-dropdown-menu>
        </div>
      </div>
      }
    </nz-card>
  </div>
</div>